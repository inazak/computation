package test

import (
  "testing"
  "github.com/inazak/computation/logicgate/v02/logicgate/simulation/control"
)

func Test_Fadd_01(t *testing.T) {

  tc := TestCase {
    Script: `
      LO 9900
      HI 9901
      CLOCK 9909
      //Fadd(9900, 9900, 9900) -> 0060, 0036
      NAND 0001 0002 0003
      CONNECT 9900 0001
      CONNECT 9900 0002
      NAND 0004 0005 0006
      CONNECT 9900 0004
      CONNECT 9900 0005
      NAND 0007 0008 0009
      CONNECT 9900 0007
      CONNECT 9900 0008
      NAND 0010 0011 0012
      CONNECT 0003 0010
      CONNECT 0003 0011
      NAND 0013 0014 0015
      CONNECT 0006 0013
      CONNECT 0006 0014
      NAND 0016 0017 0018
      CONNECT 0009 0016
      CONNECT 0009 0017
      NAND 0019 0020 0021
      CONNECT 0015 0019
      CONNECT 0015 0020
      NAND 0022 0023 0024
      CONNECT 0018 0022
      CONNECT 0018 0023
      NAND 0025 0026 0027
      CONNECT 0021 0025
      CONNECT 0024 0026
      NAND 0028 0029 0030
      CONNECT 0012 0028
      CONNECT 0012 0029
      NAND 0031 0032 0033
      CONNECT 0027 0031
      CONNECT 0027 0032
      NAND 0034 0035 0036
      CONNECT 0030 0034
      CONNECT 0033 0035
      NAND 0037 0038 0039
      CONNECT 9900 0037
      CONNECT 9900 0038
      NAND 0040 0041 0042
      CONNECT 9900 0040
      CONNECT 0039 0041
      NAND 0043 0044 0045
      CONNECT 9900 0043
      CONNECT 0039 0044
      NAND 0046 0047 0048
      CONNECT 0042 0046
      CONNECT 0045 0047
      NAND 0049 0050 0051
      CONNECT 0048 0049
      CONNECT 9900 0050
      NAND 0052 0053 0054
      CONNECT 0048 0052
      CONNECT 0051 0053
      NAND 0055 0056 0057
      CONNECT 9900 0055
      CONNECT 0051 0056
      NAND 0058 0059 0060
      CONNECT 0054 0058
      CONNECT 0057 0059
      //Fadd(9901, 9900, 9900) -> 0120, 0096
      NAND 0061 0062 0063
      CONNECT 9901 0061
      CONNECT 9900 0062
      NAND 0064 0065 0066
      CONNECT 9900 0064
      CONNECT 9900 0065
      NAND 0067 0068 0069
      CONNECT 9901 0067
      CONNECT 9900 0068
      NAND 0070 0071 0072
      CONNECT 0063 0070
      CONNECT 0063 0071
      NAND 0073 0074 0075
      CONNECT 0066 0073
      CONNECT 0066 0074
      NAND 0076 0077 0078
      CONNECT 0069 0076
      CONNECT 0069 0077
      NAND 0079 0080 0081
      CONNECT 0075 0079
      CONNECT 0075 0080
      NAND 0082 0083 0084
      CONNECT 0078 0082
      CONNECT 0078 0083
      NAND 0085 0086 0087
      CONNECT 0081 0085
      CONNECT 0084 0086
      NAND 0088 0089 0090
      CONNECT 0072 0088
      CONNECT 0072 0089
      NAND 0091 0092 0093
      CONNECT 0087 0091
      CONNECT 0087 0092
      NAND 0094 0095 0096
      CONNECT 0090 0094
      CONNECT 0093 0095
      NAND 0097 0098 0099
      CONNECT 9901 0097
      CONNECT 9900 0098
      NAND 0100 0101 0102
      CONNECT 9901 0100
      CONNECT 0099 0101
      NAND 0103 0104 0105
      CONNECT 9900 0103
      CONNECT 0099 0104
      NAND 0106 0107 0108
      CONNECT 0102 0106
      CONNECT 0105 0107
      NAND 0109 0110 0111
      CONNECT 0108 0109
      CONNECT 9900 0110
      NAND 0112 0113 0114
      CONNECT 0108 0112
      CONNECT 0111 0113
      NAND 0115 0116 0117
      CONNECT 9900 0115
      CONNECT 0111 0116
      NAND 0118 0119 0120
      CONNECT 0114 0118
      CONNECT 0117 0119
      //Fadd(9900, 9901, 9900) -> 0180, 0156
      NAND 0121 0122 0123
      CONNECT 9900 0121
      CONNECT 9901 0122
      NAND 0124 0125 0126
      CONNECT 9901 0124
      CONNECT 9900 0125
      NAND 0127 0128 0129
      CONNECT 9900 0127
      CONNECT 9900 0128
      NAND 0130 0131 0132
      CONNECT 0123 0130
      CONNECT 0123 0131
      NAND 0133 0134 0135
      CONNECT 0126 0133
      CONNECT 0126 0134
      NAND 0136 0137 0138
      CONNECT 0129 0136
      CONNECT 0129 0137
      NAND 0139 0140 0141
      CONNECT 0135 0139
      CONNECT 0135 0140
      NAND 0142 0143 0144
      CONNECT 0138 0142
      CONNECT 0138 0143
      NAND 0145 0146 0147
      CONNECT 0141 0145
      CONNECT 0144 0146
      NAND 0148 0149 0150
      CONNECT 0132 0148
      CONNECT 0132 0149
      NAND 0151 0152 0153
      CONNECT 0147 0151
      CONNECT 0147 0152
      NAND 0154 0155 0156
      CONNECT 0150 0154
      CONNECT 0153 0155
      NAND 0157 0158 0159
      CONNECT 9900 0157
      CONNECT 9901 0158
      NAND 0160 0161 0162
      CONNECT 9900 0160
      CONNECT 0159 0161
      NAND 0163 0164 0165
      CONNECT 9901 0163
      CONNECT 0159 0164
      NAND 0166 0167 0168
      CONNECT 0162 0166
      CONNECT 0165 0167
      NAND 0169 0170 0171
      CONNECT 0168 0169
      CONNECT 9900 0170
      NAND 0172 0173 0174
      CONNECT 0168 0172
      CONNECT 0171 0173
      NAND 0175 0176 0177
      CONNECT 9900 0175
      CONNECT 0171 0176
      NAND 0178 0179 0180
      CONNECT 0174 0178
      CONNECT 0177 0179
      //Fadd(9901, 9901, 9900) -> 0240, 0216
      NAND 0181 0182 0183
      CONNECT 9901 0181
      CONNECT 9901 0182
      NAND 0184 0185 0186
      CONNECT 9901 0184
      CONNECT 9900 0185
      NAND 0187 0188 0189
      CONNECT 9901 0187
      CONNECT 9900 0188
      NAND 0190 0191 0192
      CONNECT 0183 0190
      CONNECT 0183 0191
      NAND 0193 0194 0195
      CONNECT 0186 0193
      CONNECT 0186 0194
      NAND 0196 0197 0198
      CONNECT 0189 0196
      CONNECT 0189 0197
      NAND 0199 0200 0201
      CONNECT 0195 0199
      CONNECT 0195 0200
      NAND 0202 0203 0204
      CONNECT 0198 0202
      CONNECT 0198 0203
      NAND 0205 0206 0207
      CONNECT 0201 0205
      CONNECT 0204 0206
      NAND 0208 0209 0210
      CONNECT 0192 0208
      CONNECT 0192 0209
      NAND 0211 0212 0213
      CONNECT 0207 0211
      CONNECT 0207 0212
      NAND 0214 0215 0216
      CONNECT 0210 0214
      CONNECT 0213 0215
      NAND 0217 0218 0219
      CONNECT 9901 0217
      CONNECT 9901 0218
      NAND 0220 0221 0222
      CONNECT 9901 0220
      CONNECT 0219 0221
      NAND 0223 0224 0225
      CONNECT 9901 0223
      CONNECT 0219 0224
      NAND 0226 0227 0228
      CONNECT 0222 0226
      CONNECT 0225 0227
      NAND 0229 0230 0231
      CONNECT 0228 0229
      CONNECT 9900 0230
      NAND 0232 0233 0234
      CONNECT 0228 0232
      CONNECT 0231 0233
      NAND 0235 0236 0237
      CONNECT 9900 0235
      CONNECT 0231 0236
      NAND 0238 0239 0240
      CONNECT 0234 0238
      CONNECT 0237 0239
      //Fadd(9900, 9900, 9901) -> 0300, 0276
      NAND 0241 0242 0243
      CONNECT 9900 0241
      CONNECT 9900 0242
      NAND 0244 0245 0246
      CONNECT 9900 0244
      CONNECT 9901 0245
      NAND 0247 0248 0249
      CONNECT 9900 0247
      CONNECT 9901 0248
      NAND 0250 0251 0252
      CONNECT 0243 0250
      CONNECT 0243 0251
      NAND 0253 0254 0255
      CONNECT 0246 0253
      CONNECT 0246 0254
      NAND 0256 0257 0258
      CONNECT 0249 0256
      CONNECT 0249 0257
      NAND 0259 0260 0261
      CONNECT 0255 0259
      CONNECT 0255 0260
      NAND 0262 0263 0264
      CONNECT 0258 0262
      CONNECT 0258 0263
      NAND 0265 0266 0267
      CONNECT 0261 0265
      CONNECT 0264 0266
      NAND 0268 0269 0270
      CONNECT 0252 0268
      CONNECT 0252 0269
      NAND 0271 0272 0273
      CONNECT 0267 0271
      CONNECT 0267 0272
      NAND 0274 0275 0276
      CONNECT 0270 0274
      CONNECT 0273 0275
      NAND 0277 0278 0279
      CONNECT 9900 0277
      CONNECT 9900 0278
      NAND 0280 0281 0282
      CONNECT 9900 0280
      CONNECT 0279 0281
      NAND 0283 0284 0285
      CONNECT 9900 0283
      CONNECT 0279 0284
      NAND 0286 0287 0288
      CONNECT 0282 0286
      CONNECT 0285 0287
      NAND 0289 0290 0291
      CONNECT 0288 0289
      CONNECT 9901 0290
      NAND 0292 0293 0294
      CONNECT 0288 0292
      CONNECT 0291 0293
      NAND 0295 0296 0297
      CONNECT 9901 0295
      CONNECT 0291 0296
      NAND 0298 0299 0300
      CONNECT 0294 0298
      CONNECT 0297 0299
      //Fadd(9901, 9900, 9901) -> 0360, 0336
      NAND 0301 0302 0303
      CONNECT 9901 0301
      CONNECT 9900 0302
      NAND 0304 0305 0306
      CONNECT 9900 0304
      CONNECT 9901 0305
      NAND 0307 0308 0309
      CONNECT 9901 0307
      CONNECT 9901 0308
      NAND 0310 0311 0312
      CONNECT 0303 0310
      CONNECT 0303 0311
      NAND 0313 0314 0315
      CONNECT 0306 0313
      CONNECT 0306 0314
      NAND 0316 0317 0318
      CONNECT 0309 0316
      CONNECT 0309 0317
      NAND 0319 0320 0321
      CONNECT 0315 0319
      CONNECT 0315 0320
      NAND 0322 0323 0324
      CONNECT 0318 0322
      CONNECT 0318 0323
      NAND 0325 0326 0327
      CONNECT 0321 0325
      CONNECT 0324 0326
      NAND 0328 0329 0330
      CONNECT 0312 0328
      CONNECT 0312 0329
      NAND 0331 0332 0333
      CONNECT 0327 0331
      CONNECT 0327 0332
      NAND 0334 0335 0336
      CONNECT 0330 0334
      CONNECT 0333 0335
      NAND 0337 0338 0339
      CONNECT 9901 0337
      CONNECT 9900 0338
      NAND 0340 0341 0342
      CONNECT 9901 0340
      CONNECT 0339 0341
      NAND 0343 0344 0345
      CONNECT 9900 0343
      CONNECT 0339 0344
      NAND 0346 0347 0348
      CONNECT 0342 0346
      CONNECT 0345 0347
      NAND 0349 0350 0351
      CONNECT 0348 0349
      CONNECT 9901 0350
      NAND 0352 0353 0354
      CONNECT 0348 0352
      CONNECT 0351 0353
      NAND 0355 0356 0357
      CONNECT 9901 0355
      CONNECT 0351 0356
      NAND 0358 0359 0360
      CONNECT 0354 0358
      CONNECT 0357 0359
      //Fadd(9900, 9901, 9901) -> 0420, 0396
      NAND 0361 0362 0363
      CONNECT 9900 0361
      CONNECT 9901 0362
      NAND 0364 0365 0366
      CONNECT 9901 0364
      CONNECT 9901 0365
      NAND 0367 0368 0369
      CONNECT 9900 0367
      CONNECT 9901 0368
      NAND 0370 0371 0372
      CONNECT 0363 0370
      CONNECT 0363 0371
      NAND 0373 0374 0375
      CONNECT 0366 0373
      CONNECT 0366 0374
      NAND 0376 0377 0378
      CONNECT 0369 0376
      CONNECT 0369 0377
      NAND 0379 0380 0381
      CONNECT 0375 0379
      CONNECT 0375 0380
      NAND 0382 0383 0384
      CONNECT 0378 0382
      CONNECT 0378 0383
      NAND 0385 0386 0387
      CONNECT 0381 0385
      CONNECT 0384 0386
      NAND 0388 0389 0390
      CONNECT 0372 0388
      CONNECT 0372 0389
      NAND 0391 0392 0393
      CONNECT 0387 0391
      CONNECT 0387 0392
      NAND 0394 0395 0396
      CONNECT 0390 0394
      CONNECT 0393 0395
      NAND 0397 0398 0399
      CONNECT 9900 0397
      CONNECT 9901 0398
      NAND 0400 0401 0402
      CONNECT 9900 0400
      CONNECT 0399 0401
      NAND 0403 0404 0405
      CONNECT 9901 0403
      CONNECT 0399 0404
      NAND 0406 0407 0408
      CONNECT 0402 0406
      CONNECT 0405 0407
      NAND 0409 0410 0411
      CONNECT 0408 0409
      CONNECT 9901 0410
      NAND 0412 0413 0414
      CONNECT 0408 0412
      CONNECT 0411 0413
      NAND 0415 0416 0417
      CONNECT 9901 0415
      CONNECT 0411 0416
      NAND 0418 0419 0420
      CONNECT 0414 0418
      CONNECT 0417 0419
      //Fadd(9901, 9901, 9901) -> 0480, 0456
      NAND 0421 0422 0423
      CONNECT 9901 0421
      CONNECT 9901 0422
      NAND 0424 0425 0426
      CONNECT 9901 0424
      CONNECT 9901 0425
      NAND 0427 0428 0429
      CONNECT 9901 0427
      CONNECT 9901 0428
      NAND 0430 0431 0432
      CONNECT 0423 0430
      CONNECT 0423 0431
      NAND 0433 0434 0435
      CONNECT 0426 0433
      CONNECT 0426 0434
      NAND 0436 0437 0438
      CONNECT 0429 0436
      CONNECT 0429 0437
      NAND 0439 0440 0441
      CONNECT 0435 0439
      CONNECT 0435 0440
      NAND 0442 0443 0444
      CONNECT 0438 0442
      CONNECT 0438 0443
      NAND 0445 0446 0447
      CONNECT 0441 0445
      CONNECT 0444 0446
      NAND 0448 0449 0450
      CONNECT 0432 0448
      CONNECT 0432 0449
      NAND 0451 0452 0453
      CONNECT 0447 0451
      CONNECT 0447 0452
      NAND 0454 0455 0456
      CONNECT 0450 0454
      CONNECT 0453 0455
      NAND 0457 0458 0459
      CONNECT 9901 0457
      CONNECT 9901 0458
      NAND 0460 0461 0462
      CONNECT 9901 0460
      CONNECT 0459 0461
      NAND 0463 0464 0465
      CONNECT 9901 0463
      CONNECT 0459 0464
      NAND 0466 0467 0468
      CONNECT 0462 0466
      CONNECT 0465 0467
      NAND 0469 0470 0471
      CONNECT 0468 0469
      CONNECT 9901 0470
      NAND 0472 0473 0474
      CONNECT 0468 0472
      CONNECT 0471 0473
      NAND 0475 0476 0477
      CONNECT 9901 0475
      CONNECT 0471 0476
      NAND 0478 0479 0480
      CONNECT 0474 0478
      CONNECT 0477 0479
    `,
    Expect: [][]Pair {
      {
      //Fadd(9900, 9900, 9900) -> 0060, 0036
        { "0060", control.LO },
        { "0036", control.LO },
      //Fadd(9901, 9900, 9900) -> 0120, 0096
        { "0120", control.HI },
        { "0096", control.LO },
      //Fadd(9900, 9901, 9900) -> 0180, 0156
        { "0180", control.HI },
        { "0156", control.LO },
      //Fadd(9901, 9901, 9900) -> 0240, 0216
        { "0240", control.LO },
        { "0216", control.HI },
      //Fadd(9900, 9900, 9901) -> 0300, 0276
        { "0300", control.HI },
        { "0276", control.LO },
      //Fadd(9901, 9900, 9901) -> 0360, 0336
        { "0360", control.LO },
        { "0336", control.HI },
      //Fadd(9900, 9901, 9901) -> 0420, 0396
        { "0420", control.LO },
        { "0396", control.HI },
      //Fadd(9901, 9901, 9901) -> 0480, 0456
        { "0480", control.HI },
        { "0456", control.HI },
      },
      {
      //Fadd(9900, 9900, 9900) -> 0060, 0036
        { "0060", control.LO },
        { "0036", control.LO },
      //Fadd(9901, 9900, 9900) -> 0120, 0096
        { "0120", control.HI },
        { "0096", control.LO },
      //Fadd(9900, 9901, 9900) -> 0180, 0156
        { "0180", control.HI },
        { "0156", control.LO },
      //Fadd(9901, 9901, 9900) -> 0240, 0216
        { "0240", control.LO },
        { "0216", control.HI },
      //Fadd(9900, 9900, 9901) -> 0300, 0276
        { "0300", control.HI },
        { "0276", control.LO },
      //Fadd(9901, 9900, 9901) -> 0360, 0336
        { "0360", control.LO },
        { "0336", control.HI },
      //Fadd(9900, 9901, 9901) -> 0420, 0396
        { "0420", control.LO },
        { "0396", control.HI },
      //Fadd(9901, 9901, 9901) -> 0480, 0456
        { "0480", control.HI },
        { "0456", control.HI },
      },
    },
  }

  DoTest(t, tc)
}

